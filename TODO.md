[x] Test subcommands, subgroups and normal arguments.
[ ] Test all options on Commands.
[ ] Add custom metadata parameter to run() using generics.
